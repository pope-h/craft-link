{
  "_format": "hh-sol-artifact-1",
  "contractName": "PaymentProcessor",
  "sourceName": "contracts/PaymentProcessor.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_tokenAddress",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "paymentId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "client",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "PaymentCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "paymentId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amountToClient",
          "type": "uint256"
        }
      ],
      "name": "PaymentRefunded",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "paymentId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amountToArtisan",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "platformFee",
          "type": "uint256"
        }
      ],
      "name": "PaymentReleased",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newFeePercentage",
          "type": "uint256"
        }
      ],
      "name": "PlatformFeeUpdated",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_client",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_amount",
          "type": "uint256"
        }
      ],
      "name": "createPayment",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "currentPaymentId",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_artisan",
          "type": "address"
        }
      ],
      "name": "getArtisanAmountMade",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_client",
          "type": "address"
        }
      ],
      "name": "getClientAmountSpent",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_paymentId",
          "type": "uint256"
        }
      ],
      "name": "getPaymentDetails",
      "outputs": [
        {
          "internalType": "address",
          "name": "client",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "platformFee",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isReleased",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "paymentId",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "payments",
      "outputs": [
        {
          "internalType": "address",
          "name": "client",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "platformFee",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "isReleased",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "platformFeePercentage",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "platformWallet",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_paymentId",
          "type": "uint256"
        }
      ],
      "name": "refundClientFunds",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_artisan",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_paymentId",
          "type": "uint256"
        }
      ],
      "name": "releaseArtisanFunds",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "token",
      "outputs": [
        {
          "internalType": "contract Token",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_newFeePercentage",
          "type": "uint256"
        }
      ],
      "name": "updatePlatformFee",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50604051610bbf380380610bbf83398101604081905261002f91610062565b600080546001600160a01b039092166001600160a01b031992831617905560056001556002805490911633179055610092565b60006020828403121561007457600080fd5b81516001600160a01b038116811461008b57600080fd5b9392505050565b610b1e806100a16000396000f3fe608060405234801561001057600080fd5b50600436106100cf5760003560e01c80639e70df211161008c578063cdd78cfc11610066578063cdd78cfc14610239578063f5a0e6e514610242578063fa2af9da14610255578063fc0c546a1461028057600080fd5b80639e70df21146101b9578063aa0b5988146101fd578063b853e06f1461021057600080fd5b806306a669fc146100d45780631aaf845d146100e957806325bd4639146100fc57806386ff93721461011857806387d817891461014157806391002e2e146101b1575b600080fd5b6100e76100e23660046109b4565b610293565b005b6100e76100f73660046109b4565b610512565b61010560065481565b6040519081526020015b60405180910390f35b6101056101263660046109de565b6001600160a01b031660009081526004602052604090205490565b61018561014f366004610a00565b600360208190526000918252604090912080546001820154600283015492909301546001600160a01b0390911692919060ff1684565b604080516001600160a01b0390951685526020850193909352918301521515606082015260800161010f565b600654610105565b6101856101c7366004610a00565b600090815260036020819052604090912080546001820154600283015492909301546001600160a01b039091169360ff90911690565b6100e761020b366004610a00565b61075c565b61010561021e3660046109de565b6001600160a01b031660009081526005602052604090205490565b61010560015481565b6100e7610250366004610a00565b610866565b600254610268906001600160a01b031681565b6040516001600160a01b03909116815260200161010f565b600054610268906001600160a01b031681565b620f424081116102f55760405162461bcd60e51b815260206004820152602260248201527f416d6f756e74206d7573742062652067726561746572207468616e2031205553604482015261111560f21b60648201526084015b60405180910390fd5b6000546040516370a0823160e01b81526001600160a01b038481166004830152839216906370a0823190602401602060405180830381865afa15801561033f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103639190610a19565b10156103b15760405162461bcd60e51b815260206004820152601a60248201527f496e73756666696369656e7420746f6b656e2062616c616e636500000000000060448201526064016102ec565b60006064600154836103c39190610a48565b6103cd9190610a65565b6000546040516323b872dd60e01b81526001600160a01b038681166004830152306024830152604482018690529293509116906323b872dd906064016020604051808303816000875af1158015610428573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061044c9190610a87565b506006805490600061045d83610aa9565b9091555050604080516080810182526001600160a01b0385811680835260208084018781528486018781526000606087018181526006805483526003808752928a9020985189546001600160a01b0319169816979097178855925160018801559051600287015590519401805460ff191694151594909417909355905492518581529092917f5b1edb3df50c2c129e30e0449321149edbac4b6743efde1641630957e620e16d910160405180910390a3505050565b60008181526003602081905260409091209081015460ff16156105725760405162461bcd60e51b815260206004820152601860248201527714185e5b595b9d08185b1c9958591e481c995b19585cd95960421b60448201526064016102ec565b60038101805460ff1916600190811790915560028201549082015460009161059991610ac2565b60005460405163a9059cbb60e01b81526001600160a01b0387811660048301526024820184905292935091169063a9059cbb906044016020604051808303816000875af11580156105ee573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106129190610a87565b50600054600280549084015460405163a9059cbb60e01b81526001600160a01b039283166004820152602481019190915291169063a9059cbb906044016020604051808303816000875af115801561066e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106929190610a87565b50600182015482546001600160a01b03166000908152600460205260409020546106bc9190610ad5565b82546001600160a01b03908116600090815260046020908152604080832094909455600186015492881682526005905291909120546106fb9190610ad5565b6001600160a01b03851660009081526005602090815260409182902092909255600284015481518481529283015284917f3c70b1e8034b5738ec77fbfdaa4d28906a0b3160018d67a2dc7b534e53e33fe0910160405180910390a250505050565b6002546001600160a01b031633146107ca5760405162461bcd60e51b815260206004820152602b60248201527f4f6e6c792074686520706c6174666f726d2077616c6c65742063616e2075706460448201526a617465207468652066656560a81b60648201526084016102ec565b601481111561082b5760405162461bcd60e51b815260206004820152602760248201527f4665652070657263656e74616765206d757374206265206265747765656e2030604482015266020616e642032360cc1b60648201526084016102ec565b60018190556040518181527f45610d581145924dd7090a5017e5f2b1d6f42213bb2e95707ff86846bbfcb1ca9060200160405180910390a150565b60008181526003602081905260409091209081015460ff16156108c65760405162461bcd60e51b815260206004820152601860248201527714185e5b595b9d08185b1c9958591e481c995b19585cd95960421b60448201526064016102ec565b60038101805460ff1916600190811790915560005482549183015460405163a9059cbb60e01b81526001600160a01b039384166004820152602481019190915291169063a9059cbb906044016020604051808303816000875af1158015610931573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109559190610a87565b50817f67f747c6f27de92631981bb66171467a5801e4659b923cb57ca0ed27d009985e826001015460405161098c91815260200190565b60405180910390a25050565b80356001600160a01b03811681146109af57600080fd5b919050565b600080604083850312156109c757600080fd5b6109d083610998565b946020939093013593505050565b6000602082840312156109f057600080fd5b6109f982610998565b9392505050565b600060208284031215610a1257600080fd5b5035919050565b600060208284031215610a2b57600080fd5b5051919050565b634e487b7160e01b600052601160045260246000fd5b8082028115828204841417610a5f57610a5f610a32565b92915050565b600082610a8257634e487b7160e01b600052601260045260246000fd5b500490565b600060208284031215610a9957600080fd5b815180151581146109f957600080fd5b600060018201610abb57610abb610a32565b5060010190565b81810381811115610a5f57610a5f610a32565b80820180821115610a5f57610a5f610a3256fea2646970667358221220d155f520d9cb217f5b49600c934f52075f818af3660864b05607b82f1546cd0664736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100cf5760003560e01c80639e70df211161008c578063cdd78cfc11610066578063cdd78cfc14610239578063f5a0e6e514610242578063fa2af9da14610255578063fc0c546a1461028057600080fd5b80639e70df21146101b9578063aa0b5988146101fd578063b853e06f1461021057600080fd5b806306a669fc146100d45780631aaf845d146100e957806325bd4639146100fc57806386ff93721461011857806387d817891461014157806391002e2e146101b1575b600080fd5b6100e76100e23660046109b4565b610293565b005b6100e76100f73660046109b4565b610512565b61010560065481565b6040519081526020015b60405180910390f35b6101056101263660046109de565b6001600160a01b031660009081526004602052604090205490565b61018561014f366004610a00565b600360208190526000918252604090912080546001820154600283015492909301546001600160a01b0390911692919060ff1684565b604080516001600160a01b0390951685526020850193909352918301521515606082015260800161010f565b600654610105565b6101856101c7366004610a00565b600090815260036020819052604090912080546001820154600283015492909301546001600160a01b039091169360ff90911690565b6100e761020b366004610a00565b61075c565b61010561021e3660046109de565b6001600160a01b031660009081526005602052604090205490565b61010560015481565b6100e7610250366004610a00565b610866565b600254610268906001600160a01b031681565b6040516001600160a01b03909116815260200161010f565b600054610268906001600160a01b031681565b620f424081116102f55760405162461bcd60e51b815260206004820152602260248201527f416d6f756e74206d7573742062652067726561746572207468616e2031205553604482015261111560f21b60648201526084015b60405180910390fd5b6000546040516370a0823160e01b81526001600160a01b038481166004830152839216906370a0823190602401602060405180830381865afa15801561033f573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103639190610a19565b10156103b15760405162461bcd60e51b815260206004820152601a60248201527f496e73756666696369656e7420746f6b656e2062616c616e636500000000000060448201526064016102ec565b60006064600154836103c39190610a48565b6103cd9190610a65565b6000546040516323b872dd60e01b81526001600160a01b038681166004830152306024830152604482018690529293509116906323b872dd906064016020604051808303816000875af1158015610428573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061044c9190610a87565b506006805490600061045d83610aa9565b9091555050604080516080810182526001600160a01b0385811680835260208084018781528486018781526000606087018181526006805483526003808752928a9020985189546001600160a01b0319169816979097178855925160018801559051600287015590519401805460ff191694151594909417909355905492518581529092917f5b1edb3df50c2c129e30e0449321149edbac4b6743efde1641630957e620e16d910160405180910390a3505050565b60008181526003602081905260409091209081015460ff16156105725760405162461bcd60e51b815260206004820152601860248201527714185e5b595b9d08185b1c9958591e481c995b19585cd95960421b60448201526064016102ec565b60038101805460ff1916600190811790915560028201549082015460009161059991610ac2565b60005460405163a9059cbb60e01b81526001600160a01b0387811660048301526024820184905292935091169063a9059cbb906044016020604051808303816000875af11580156105ee573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106129190610a87565b50600054600280549084015460405163a9059cbb60e01b81526001600160a01b039283166004820152602481019190915291169063a9059cbb906044016020604051808303816000875af115801561066e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106929190610a87565b50600182015482546001600160a01b03166000908152600460205260409020546106bc9190610ad5565b82546001600160a01b03908116600090815260046020908152604080832094909455600186015492881682526005905291909120546106fb9190610ad5565b6001600160a01b03851660009081526005602090815260409182902092909255600284015481518481529283015284917f3c70b1e8034b5738ec77fbfdaa4d28906a0b3160018d67a2dc7b534e53e33fe0910160405180910390a250505050565b6002546001600160a01b031633146107ca5760405162461bcd60e51b815260206004820152602b60248201527f4f6e6c792074686520706c6174666f726d2077616c6c65742063616e2075706460448201526a617465207468652066656560a81b60648201526084016102ec565b601481111561082b5760405162461bcd60e51b815260206004820152602760248201527f4665652070657263656e74616765206d757374206265206265747765656e2030604482015266020616e642032360cc1b60648201526084016102ec565b60018190556040518181527f45610d581145924dd7090a5017e5f2b1d6f42213bb2e95707ff86846bbfcb1ca9060200160405180910390a150565b60008181526003602081905260409091209081015460ff16156108c65760405162461bcd60e51b815260206004820152601860248201527714185e5b595b9d08185b1c9958591e481c995b19585cd95960421b60448201526064016102ec565b60038101805460ff1916600190811790915560005482549183015460405163a9059cbb60e01b81526001600160a01b039384166004820152602481019190915291169063a9059cbb906044016020604051808303816000875af1158015610931573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109559190610a87565b50817f67f747c6f27de92631981bb66171467a5801e4659b923cb57ca0ed27d009985e826001015460405161098c91815260200190565b60405180910390a25050565b80356001600160a01b03811681146109af57600080fd5b919050565b600080604083850312156109c757600080fd5b6109d083610998565b946020939093013593505050565b6000602082840312156109f057600080fd5b6109f982610998565b9392505050565b600060208284031215610a1257600080fd5b5035919050565b600060208284031215610a2b57600080fd5b5051919050565b634e487b7160e01b600052601160045260246000fd5b8082028115828204841417610a5f57610a5f610a32565b92915050565b600082610a8257634e487b7160e01b600052601260045260246000fd5b500490565b600060208284031215610a9957600080fd5b815180151581146109f957600080fd5b600060018201610abb57610abb610a32565b5060010190565b81810381811115610a5f57610a5f610a32565b80820180821115610a5f57610a5f610a3256fea2646970667358221220d155f520d9cb217f5b49600c934f52075f818af3660864b05607b82f1546cd0664736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
